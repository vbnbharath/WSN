<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>Stikine: Radio.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stikine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_radio_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Radio.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Library for transmitting using listen before talk.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="_radio_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_listen___struct.html">Listen_Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Enumerated type for tx/rx statuses</div></td></tr>
<tr class="memitem:a9ea8776ed870286764cea56e58956269"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269">LBT_Status</a> { <br />
&#160;&#160;<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a75831e37a7d6f48374ad22954db65c21">Transmit_Success</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a2337ca0a96c03450a134e1b0811cca0a">Radio_Busy</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a98655b1eb396083ca3bb34ddabf889bf">Ack_Timeout</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a88f79101946c4fcf8d73849a3ed30fb8">TX_Buffer_Overflow</a>, 
<br />
&#160;&#160;<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269aa6a377b9acd57c310e8144a1803a70ae">Channel_Busy</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a428ef2a01c076969b204d5625bff9217">RX_Timeout</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269abcb456268858e9aaf0068d1e38230624">Message_Recieved</a>, 
<a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269a3dc02ad933a4af6ad5ce6f79d164399f">RX_Buffer_Overflow</a>
<br />
 }<tr class="separator:a9ea8776ed870286764cea56e58956269"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a132dfd3d132f9f4ff3f625da6f009a41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269">LBT_Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_radio_8h.html#a132dfd3d132f9f4ff3f625da6f009a41">LBT_Send</a> (uint8_t dest_address, uint8_t source_address, uint8_t *message, uint8_t length)</td></tr>
<tr class="memdesc:a132dfd3d132f9f4ff3f625da6f009a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message over the CC110l radio using listen before talk.  <a href="#a132dfd3d132f9f4ff3f625da6f009a41">More...</a><br /></td></tr>
<tr class="separator:a132dfd3d132f9f4ff3f625da6f009a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cb6297b59cbbcf09e4580641c9a901"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_listen___struct.html">Listen_Struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_radio_8h.html#a19cb6297b59cbbcf09e4580641c9a901">LBT_Listen</a> (uint16_t timeoutPeriod)</td></tr>
<tr class="memdesc:a19cb6297b59cbbcf09e4580641c9a901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the radio into listen mode for the specified amount of time. Blocking function, does not return until timeout occurs or a message is recieved.  <a href="#a19cb6297b59cbbcf09e4580641c9a901">More...</a><br /></td></tr>
<tr class="separator:a19cb6297b59cbbcf09e4580641c9a901"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library for transmitting using listen before talk. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a9ea8776ed870286764cea56e58956269"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269">LBT_Status</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a75831e37a7d6f48374ad22954db65c21"></a>Transmit_Success&#160;</td><td class="fielddoc">
<p>Transmission was successful. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a2337ca0a96c03450a134e1b0811cca0a"></a>Radio_Busy&#160;</td><td class="fielddoc">
<p>Radio was not in idle state. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a98655b1eb396083ca3bb34ddabf889bf"></a>Ack_Timeout&#160;</td><td class="fielddoc">
<p>Acknowledgement not Rec'd before timeout expired. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a88f79101946c4fcf8d73849a3ed30fb8"></a>TX_Buffer_Overflow&#160;</td><td class="fielddoc">
<p>Message overflowed the TX FIFO. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269aa6a377b9acd57c310e8144a1803a70ae"></a>Channel_Busy&#160;</td><td class="fielddoc">
<p>Channel clear assessment returns negative. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a428ef2a01c076969b204d5625bff9217"></a>RX_Timeout&#160;</td><td class="fielddoc">
<p>Specified listen period reached. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269abcb456268858e9aaf0068d1e38230624"></a>Message_Recieved&#160;</td><td class="fielddoc">
<p>Successfully got a message. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a9ea8776ed870286764cea56e58956269a3dc02ad933a4af6ad5ce6f79d164399f"></a>RX_Buffer_Overflow&#160;</td><td class="fielddoc">
<p>RX FIFO was overflowed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a19cb6297b59cbbcf09e4580641c9a901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_listen___struct.html">Listen_Struct</a> LBT_Listen </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeoutPeriod</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Puts the radio into listen mode for the specified amount of time. Blocking function, does not return until timeout occurs or a message is recieved. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeoutPeriod</td><td>The amount of time, in ACLK cycles to wait for a transmission to come in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a <a class="el" href="struct_listen___struct.html">Listen_Struct</a> which contains a status field and the payload. </dd></dl>

</div>
</div>
<a class="anchor" id="a132dfd3d132f9f4ff3f625da6f009a41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_radio_8h.html#a9ea8776ed870286764cea56e58956269">LBT_Status</a> LBT_Send </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dest_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>source_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message over the CC110l radio using listen before talk. </p>
<p>Function checks the status of the radio prior to tansmission. If the state is anything but 'idle' the function abort and return a status indicating the fail state. Maximum message length is 59 bytes because of the extra bytes included for the hardware packet handling and appended RSSI and CRC bytes at the receiver.</p>
<p>Blocking function, returns after the transmission is complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest_address</td><td>The address of the recipient. This address is what the CC110l hardware address filter operates against </td></tr>
    <tr><td class="paramname">source_address</td><td>The address of this node, not used for hardware filtering </td></tr>
    <tr><td class="paramname">message</td><td>The payload of the transmission, can be up to 59 bytes long </td></tr>
    <tr><td class="paramname">length</td><td>The length of the payload. The function will adjust this value to accomodate the addresses being attached to the transmission </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an LBT_Status enum. This can be checked to ensure the transmission was successful. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_a68ce9f702b01e936f36b0bc23d4b891.html">Stikine</a></li><li class="navelem"><a class="el" href="_radio_8h.html">Radio.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
